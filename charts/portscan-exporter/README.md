# portscan-exporter

![Version: 0.2.0](https://img.shields.io/badge/Version-0.2.0-informational?style=flat-square) ![AppVersion: 1.0.0](https://img.shields.io/badge/AppVersion-1.0.0-informational?style=flat-square)

Port-Scanner is prometheus exporter and portscannig solution

**Homepage:** <https://github.com/nce/xxx>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| nce | <770135+nce@users.noreply.github.com> | <https://github.com/nce> |

## Source Code

* <https://github.con/nce/xxx>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| autoscaling | object | `{"enabled":false}` | Enable if autoscaling is available (hpa) |
| metrics.enabled | bool | `true` |  |
| metrics.serviceMonitor | object | `{"annotations":{},"enabled":false,"honorLabels":false,"interval":"","jobLabel":"","labels":{},"metricRelabelings":[],"namespace":"","relabelings":[],"scrapeTimeout":"","selector":{}}` | If the kube-prometheus stack is used, configure the `serviceMonitor` |
| portscan.containerPorts | object | `{"health":12000,"metrics":10000}` | Ports the container exposes |
| portscan.containerSecurityContext | object | `{"allowPrivilegeEscalation":false,"enabled":true}` | SecurityContext enforced on the container |
| portscan.extraEnvVars | list | `[{"name":"RATELIMIT","value":"70"},{"name":"LOGLEVEL","value":"DEBUG"}]` | Refer to xxx for ENV options (`./portscan-exporter -h`) |
| portscan.image.pullPolicy | string | `"IfNotPresent"` | As we set the `tag` to git commits, `IfNotPresent` should be okay |
| portscan.image.pullSecrets | list | `[]` | https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/ |
| portscan.image.registry | string | `"ghcr.io"` |  |
| portscan.image.repository | string | `"nce/gs-hiring-task"` |  |
| portscan.image.tag | string | `"3b6c3aa"` | Image tag of the portscanning application |
| portscan.livenessProbe | object | `{"enabled":true,"failureThreshold":5,"httpGet":{"path":"/health","port":"health"},"initialDelaySeconds":90,"periodSeconds":120,"successThreshold":1,"timeoutSeconds":5}` | LivenessProbe configuration |
| portscan.podSecurityContext.enabled | bool | `true` | SecurityContext enforced on the pod |
| portscan.podSecurityContext.runAsNonRoot | bool | `true` | Nonroot image |
| portscan.podSecurityContext.runAsUser | int | `65534` | Userid of the container (nobody) |
| portscan.readinessProbe | object | `{"enabled":true,"failureThreshold":3,"httpGet":{"path":"/ready","port":"health"},"initialDelaySeconds":25,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":2}` | ReadinessProbe configuration |
| portscan.replicaCount | int | `1` | Number of replicas for the portscanner. Only set if `autoscaling.enabled=false` |
| portscan.resources.limits.memory | string | `"3Gi"` | memory limit of the scanner |
| portscan.resources.requests.cpu | int | `2` | cpu requests of the scanner |
| portscan.resources.requests.memory | string | `"2Gi"` | memory requests of the scanner |
| rbac.create | bool | `true` | Along the `serviceAccount` we need special ClusterRoles |
| rbac.pspEnabled | bool | `true` | Using PSPs creates Role/Rolebindings |
| service | object | `{"ports":{"metrics":10000},"type":"ClusterIP"}` | Service Configuration for the endpoints |
| service.ports | object | `{"metrics":10000}` | Portname to portnumber configuration |
| serviceAccount | object | `{"automountServiceAccountToken":true,"create":true,"name":"portscanner"}` | A dedicated serviceAccount is best practice for the application |
| serviceAccount.name | string | `"portscanner"` | Name of the dedicated service-account |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
